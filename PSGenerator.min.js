PSGenerator=function(){this.shaObj_=new jsSHA("SHA-512","TEXT")};
PSGenerator.prototype.generate=function(a,b,e,c){this.hash_=this.hashing_(a+b);this.carsor_=0;this.passphrase_=b;var f;b=[];var d=[];for(a=0;a<e;a++)d[a]=a;var g="";for(a=0;a<c.length;a++)e=this.hashRandom_(d.length),f=d[e],d.splice(e,1),b[f]=c[a].charAt(this.hashRandom_(c[a].length)),g+=c[a];for(;0<d.length;)e=this.hashRandom_(d.length),f=d[e],d.splice(e,1),b[f]=g.charAt(this.hashRandom_(g.length));c="";for(a=0;a<b.length;a++)c+=b[a];this.passphrase_=null;return c};
PSGenerator.prototype.hashing_=function(a){this.shaObj_.update(a);return this.shaObj_.getHash("HEX")};PSGenerator.prototype.hashRandom_=function(a){this.carsor_>=this.hash_.length-8&&(this.hash_=this.hashing_(this.hash_+this.passphrase_),this.carsor_=0);var b=this.hash_.slice(this.carsor_,this.carsor_+7);this.carsor_+=8;return parseInt(b,16)%a};